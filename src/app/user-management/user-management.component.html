<!-- <div class="container mt-4">
  <div class="pt-4">
    <form class="form-inline md-form mr-auto mb-4">
      <input class="form-control mr-sm-2" type="text" placeholder="Search user id or name" aria-label="Search">
      <button class="btn btn-outline-warning btn-rounded btn-sm my-0" type="submit">Search</button>
    </form>
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">ID</th>
          <th scope="col">NAME</th>
          <th scope="col">EMAIL</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users" >
          <td>{{user.id}}</td>
          <td>{{user.username}}</td>
          <td>{{user.email}}</td>
        </tr>
      </tbody>
    </table>

  </div> -->

<div class="container-fluid pl-4 pr-4">
  <div class="pt-4">
    <form class="form-inline md-form mr-auto mb-4">
      <input class="form-control mr-sm-2" type="text" placeholder="Search user id" #user
             (keyup.enter)="search(user.value)" (blur)="search(user.value); user.value='' " aria-label="Search">
      <button class="btn btn-outline-warning btn-rounded btn-sm my-0" type="submit" (click)="search(user.value)">
        Search
      </button>
      <button class="btn btn-outline-warning btn-rounded btn-sm my-0 ml-4" type="submit" (click)="ngOnInit()">Show All
        Users
      </button>
    </form>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Type</th>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Message No</th>
        <th scope="col">Action</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of users">
        <td>{{user.role}}</td>
        <td>{{user.id}}</td>
        <td>{{user.name }}</td>
        <td>{{user.email}}</td>
        <td>
          <a href="#" data-toggle="modal" data-target="#modalMesage" (click)="setMessageInfo(user)">
            ({{user.message.length}}) </a>
          <!-- modal -->
          <div class="modal fade" id="modalMesage" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
               aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h3 class="modal-title" id="modalMesage">Message</h3>
                </div>
                <div class="modal-body">
                  <!-- Are you sure you want to delete {{deleteUser?.name}}? -->
                  <ul *ngFor="let m of message">
                    <li>{{m}}</li>
                  </ul>
                </div>
                <div class="modal-footer">
                  <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal" >Cancel</button> -->
                  <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                </div>
              </div>
            </div>
          </div>
        </td>
        <td>
          <a routerLink="/profile" (click)="setSelectedUser(user)">View</a>
          <span> / </span>
          <a routerLink="/register" (click)="setSelectedUser(user)">Edit</a>
          <span> / </span>
          <a data-toggle="modal" href="#" data-target="#exampleModalCenter" (click)="setDeleteUser(user)">Delete</a>
          <!-- modal -->
          <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
               aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h3 class="modal-title" id="exampleModalLongTitle">Confirm delete</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Are you sure you want to delete {{deleteUser?.name}}?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-primary btn-danger" data-dismiss="modal" (click)="onDelete()">
                    Delete
                  </button>
                </div>
              </div>
            </div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
